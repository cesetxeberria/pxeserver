#This task locks xfce configuration so users can't modify them.
---
- name: Lock xfwm4.
  replace:
    dest: /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfwm4.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'

- name: Lock xfce-power-manager.
  replace:
    dest: /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-power-manager.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'

- name: Lock xsettings.
  replace:
    dest: /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'

- name: Lock xfce4-panel.
  replace:
    dest: /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'

- name: Lock xfce4-panel 2.
  replace:
    dest: /etc/xdg/xfce4/panel/default.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'

- name: Lock keyboard-shortcuts.
  replace:
    dest: /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'

- name: Lock keyboards.
  replace:
    dest: /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/keyboards.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'

- name: Lock thunar.
  replace:
    dest: /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/thunar.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'

- name: Lock xfce4-desktop.
  replace:
    dest: /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-desktop.xml
    regexp: 'version="1.0">'
    replace: 'version="1.0" locked="*" unlocked="root;@wheel">'
